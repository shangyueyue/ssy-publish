webpackJsonp([30],{526:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function l(e){return{costList:e.costList,application:e.application}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(558),o=a(r),u=n(560),i=a(u),s=n(565),c=a(s),d=n(80),f=a(d),p=n(5),m=a(p),b=n(10),v=a(b),h=n(1),y=a(h),_=n(2),C=a(_),x=n(3),k=a(x),g=n(4),E=a(g);n(559),n(561),n(566),n(79);var O=n(0),L=a(O),P=n(21),I=n(45),N=n(614),w=a(N),K=n(779),S=a(K),j=n(26),B=n(751),M=a(B),F=function(e){function t(e){(0,y.default)(this,t);var n=(0,k.default)(this,(t.__proto__||(0,v.default)(t)).call(this,e));return n.onFetchCostList=function(e){var t=(0,m.default)({areaType:"IT",dataType:"21"},e);n.props.dispatch({type:"costList/fetchCostList",payload:t})},n.onCostListItemChange=function(e,t){n.props.dispatch({type:"costList/saveCostlistdata",payload:{costlistdata:e,orderIndex:t}})},n.onCountTotalMoney=function(e){var t=e.reduce(function(e,t){return t.dmbtr?e+Number(t.dmbtr):e+0},0);return(0,j.transformToMoneyType)(t)},n.onSubmit=function(){var e=n.props.costList.costListEditDatas,t=void 0===e?[]:e,a=t.some(function(e){return e.dmbtr})?t:[];n.props.dispatch({type:"application/saveList",payload:{costListDatas:(0,j.deepClone)(a)}}),n.isSaveAction=!0,n.props.history.go(-1)},n.isSaveAction=!1,n}return(0,E.default)(t,e),(0,C.default)(t,[{key:"componentDidMount",value:function(){var e=this.props.location.state||{},t=e.stateParams,n=void 0===t?{}:t;this.onFetchCostList(n)}},{key:"componentWillUnmount",value:function(){this.props.dispatch({type:"costList/restList"})}},{key:"render",value:function(){var e=this,t=this.props.costList.costListEditDatas,n=void 0===t?[]:t;return L.default.createElement("div",{className:M.default.costListApplicationPage},L.default.createElement(w.default,null,"\u8d39\u7528\u660e\u7ec6"),L.default.createElement("div",{className:M.default.listContainer},L.default.createElement("div",{className:M.default.listheader},L.default.createElement("div",null,"\u8d39\u7528\u7c7b\u578b"),L.default.createElement("div",null,"\u7533\u8bf7\u91d1\u989d")),L.default.createElement(f.default,null,n.length>0&&n.map(function(t,n){return L.default.createElement(S.default,{key:n,orderIndex:n,costlistdata:t,onCostItemChange:e.onCostListItemChange})}))),L.default.createElement(o.default,null),L.default.createElement(f.default,null,L.default.createElement(f.default.Item,null,L.default.createElement("div",{className:M.default.totalMoneyContainer},L.default.createElement("div",null,"\u7533\u8bf7\u91d1\u989d\u5408\u8ba1"),L.default.createElement("div",{className:M.default.moneyvalue},this.onCountTotalMoney(n))))),L.default.createElement(o.default,null),L.default.createElement(o.default,null),L.default.createElement(o.default,null),L.default.createElement(o.default,null),L.default.createElement(i.default,null,L.default.createElement(c.default,{type:"primary",onClick:this.onSubmit},"\u4fdd\u5b58")),L.default.createElement(o.default,null),L.default.createElement(I.Prompt,{message:function(t){return!(t.pathname.indexOf("Application")>=0&&!e.isSaveAction)||"\u6570\u636e\u672a\u4fdd\u5b58\uff0c\u786e\u5b9a\u79bb\u5f00\uff1f"}}))}}]),t}(L.default.PureComponent);t.default=(0,P.connect)(l)(F),e.exports=t.default},558:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var l=n(1),r=a(l),o=n(2),u=a(o),i=n(3),s=a(i),c=n(4),d=a(c),f=n(11),p=a(f),m=n(0),b=a(m),v=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,d.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e=this.props,t=e.prefixCls,n=e.size,a=e.className,l=e.style,r=e.onClick,o=(0,p.default)(t,t+"-"+n,a);return b.default.createElement("div",{className:o,style:l,onClick:r})}}]),t}(b.default.Component);t.default=v,v.defaultProps={prefixCls:"am-whitespace",size:"md"},e.exports=t.default},559:function(e,t,n){"use strict";n(20),n(567)},560:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var l=n(1),r=a(l),o=n(2),u=a(o),i=n(3),s=a(i),c=n(4),d=a(c),f=n(11),p=a(f),m=n(0),b=a(m),v=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,d.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e=this.props,t=e.prefixCls,n=e.size,a=e.className,l=e.children,r=e.style,o=(0,p.default)(t,t+"-"+n,a);return b.default.createElement("div",{className:o,style:r},l)}}]),t}(b.default.Component);t.default=v,v.defaultProps={prefixCls:"am-wingblank",size:"lg"},e.exports=t.default},561:function(e,t,n){"use strict";n(20),n(571)},562:function(e,t){e.exports={"snk-1px":"snk-1px___2c8zL","snk-1px-t":"snk-1px-t___2EzfR","snk-1px-b":"snk-1px-b___1JicQ","snk-1px-tb":"snk-1px-tb___35cyD","snk-1px-l":"snk-1px-l___1LJMZ","snk-1px-r":"snk-1px-r___1ZwOJ","snk-1px-lb":"snk-1px-lb___3922a",flex:"flex___3g_v-","flex-between":"flex-between___3i5by","flex-center":"flex-center___2mrYh",cardListItem:"cardListItem___2oVTn",listlabel:"listlabel___1A2HA",listValue:"listValue___1OPNe",costCardListItem:"costCardListItem___1Ke4u",ListItem:"ListItem___3L0Yy",totalMoney:"totalMoney___3k-bx",listTitle:"listTitle___IWvgT"}},565:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function l(e){return"string"==typeof e}function r(e){return l(e.type)&&I(e.props.children)?x.default.cloneElement(e,{},e.props.children.split("").join(" ")):l(e)?(I(e)&&(e=e.split("").join(" ")),x.default.createElement("span",null,e)):e}Object.defineProperty(t,"__esModule",{value:!0});var o=n(5),u=a(o),i=n(15),s=a(i),c=n(1),d=a(c),f=n(2),p=a(f),m=n(3),b=a(m),v=n(4),h=a(v),y=n(11),_=a(y),C=n(0),x=a(C),k=n(78),g=a(k),E=n(212),O=a(E),L=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var l=0,a=Object.getOwnPropertySymbols(e);l<a.length;l++)t.indexOf(a[l])<0&&(n[a[l]]=e[a[l]]);return n},P=/^[\u4e00-\u9fa5]{2}$/,I=P.test.bind(P),N=function(e){function t(){return(0,d.default)(this,t),(0,b.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,h.default)(t,e),(0,p.default)(t,[{key:"render",value:function(){var e,t=this.props,n=t.children,a=t.className,l=t.prefixCls,o=t.type,i=t.size,c=t.inline,d=t.disabled,f=t.icon,p=t.loading,m=t.activeStyle,b=t.activeClassName,v=t.onClick,h=L(t,["children","className","prefixCls","type","size","inline","disabled","icon","loading","activeStyle","activeClassName","onClick"]),y=p?"loading":f,C=(0,_.default)(l,a,(e={},(0,s.default)(e,l+"-primary","primary"===o),(0,s.default)(e,l+"-ghost","ghost"===o),(0,s.default)(e,l+"-warning","warning"===o),(0,s.default)(e,l+"-small","small"===i),(0,s.default)(e,l+"-inline",c),(0,s.default)(e,l+"-disabled",d),(0,s.default)(e,l+"-loading",p),(0,s.default)(e,l+"-icon",!!y),e)),k=x.default.Children.map(n,r),E=void 0;if("string"==typeof y)E=x.default.createElement(O.default,{"aria-hidden":"true",type:y,size:"small"===i?"xxs":"md",className:l+"-icon"});else if(y){var P=y.props&&y.props.className,I=(0,_.default)("am-icon",l+"-icon","small"===i?"am-icon-xxs":"am-icon-md");E=x.default.cloneElement(y,{className:P?P+" "+I:I})}return x.default.createElement(g.default,{activeClassName:b||(m?l+"-active":void 0),disabled:d,activeStyle:m},x.default.createElement("a",(0,u.default)({role:"button",className:C},h,{onClick:d?void 0:v,"aria-disabled":d}),E,k))}}]),t}(x.default.Component);N.defaultProps={prefixCls:"am-button",size:"large",inline:!1,disabled:!1,loading:!1,activeStyle:{}},t.default=N,e.exports=t.default},566:function(e,t,n){"use strict";n(20),n(213),n(568)},567:function(e,t){},568:function(e,t){},571:function(e,t){},614:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var l=n(0),r=a(l),o=n(562),u=a(o),i=function(e){return r.default.createElement("div",{className:u.default.listTitle},e.children)};t.default=i,e.exports=t.default},620:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function l(){}function r(e){return void 0===e||null===e?"":e}function o(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").replace(L,"_").length}Object.defineProperty(t,"__esModule",{value:!0});var u=n(5),i=a(u),s=n(15),c=a(s),d=n(1),f=a(d),p=n(2),m=a(p),b=n(3),v=a(b),h=n(4),y=a(h),_=n(11),C=a(_),x=n(0),k=a(x),g=n(78),E=a(g),O=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var l=0,a=Object.getOwnPropertySymbols(e);l<a.length;l++)t.indexOf(a[l])<0&&(n[a[l]]=e[a[l]]);return n},L=/[\uD800-\uDBFF][\uDC00-\uDFFF]|\n/g,P=function(e){function t(e){(0,f.default)(this,t);var n=(0,v.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.focus=function(){n.textareaRef.focus()},n.reAlignHeight=function(){var e=n.textareaRef;e.style.height="",e.style.height=e.scrollHeight+"px"},n.onChange=function(e){var t=e.target.value;"value"in n.props?n.setState({value:n.props.value}):n.setState({value:t});var a=n.props.onChange;a&&a(t),n.componentDidUpdate()},n.onBlur=function(e){n.debounceTimeout=setTimeout(function(){document.activeElement!==n.textareaRef&&n.setState({focus:!1})},100);var t=e.currentTarget.value;n.props.onBlur&&n.props.onBlur(t)},n.onFocus=function(e){n.debounceTimeout&&(clearTimeout(n.debounceTimeout),n.debounceTimeout=null),n.setState({focus:!0});var t=e.currentTarget.value;n.props.onFocus&&n.props.onFocus(t)},n.onErrorClick=function(){n.props.onErrorClick&&n.props.onErrorClick()},n.clearInput=function(){n.setState({value:""}),n.props.onChange&&n.props.onChange("")},n.state={focus:!1,value:e.value||e.defaultValue||""},n}return(0,y.default)(t,e),(0,m.default)(t,[{key:"componentWillReceiveProps",value:function(e){"value"in e&&this.setState({value:r(e.value)})}},{key:"componentDidMount",value:function(){this.props.autoHeight&&this.reAlignHeight()}},{key:"componentDidUpdate",value:function(){this.props.autoHeight&&this.state.focus&&this.reAlignHeight()}},{key:"componentWillUnmount",value:function(){this.debounceTimeout&&(clearTimeout(this.debounceTimeout),this.debounceTimeout=null)}},{key:"render",value:function(){var e,t,n=this,a=this.props,l=a.prefixCls,r=a.prefixListCls,u=a.editable,s=a.style,d=a.clear,f=(a.children,a.error),p=a.className,m=a.count,b=a.labelNumber,v=a.title,h=(a.onErrorClick,a.autoHeight),y=(a.defaultValue,O(a,["prefixCls","prefixListCls","editable","style","clear","children","error","className","count","labelNumber","title","onErrorClick","autoHeight","defaultValue"])),_=y.disabled,x=this.state,g=x.value,L=x.focus,P=m>0&&this.props.rows>1,I=(0,C.default)(p,r+"-item",l+"-item",(e={},(0,c.default)(e,l+"-disabled",_),(0,c.default)(e,l+"-item-single-line",1===this.props.rows&&!h),(0,c.default)(e,l+"-error",f),(0,c.default)(e,l+"-focus",L),(0,c.default)(e,l+"-has-count",P),e)),N=(0,C.default)(l+"-label",(t={},(0,c.default)(t,l+"-label-2",2===b),(0,c.default)(t,l+"-label-3",3===b),(0,c.default)(t,l+"-label-4",4===b),(0,c.default)(t,l+"-label-5",5===b),(0,c.default)(t,l+"-label-6",6===b),(0,c.default)(t,l+"-label-7",7===b),t)),w=o(g),K={};return m>0&&(K.maxLength=m-w+(g?g.length:0)),k.default.createElement("div",{className:I},v&&k.default.createElement("div",{className:N},v),k.default.createElement("div",{className:l+"-control"},k.default.createElement("textarea",(0,i.default)({ref:function(e){return n.textareaRef=e}},K,y,{value:g,onChange:this.onChange,onBlur:this.onBlur,onFocus:this.onFocus,readOnly:!u,style:s}))),d&&u&&g&&w>0&&k.default.createElement(E.default,{activeClassName:l+"-clear-active"},k.default.createElement("div",{className:l+"-clear",onClick:this.clearInput})),f&&k.default.createElement("div",{className:l+"-error-extra",onClick:this.onErrorClick}),P&&k.default.createElement("span",{className:l+"-count"},k.default.createElement("span",null,g?w:0),"/",m))}}]),t}(k.default.Component);t.default=P,P.defaultProps={prefixCls:"am-textarea",prefixListCls:"am-list",autoHeight:!1,editable:!0,disabled:!1,placeholder:"",clear:!1,rows:1,onChange:l,onBlur:l,onFocus:l,onErrorClick:l,error:!1,labelNumber:5},e.exports=t.default},621:function(e,t,n){"use strict";n(20),n(79),n(632)},627:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=t.canUseDOM=!("undefined"==typeof window||!window.document||!window.document.createElement);t.IS_IOS=a&&/iphone|ipad|ipod/i.test(window.navigator.userAgent)},632:function(e,t){},636:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function l(){}function r(e){return void 0===e||null===e?"":e+""}Object.defineProperty(t,"__esModule",{value:!0});var o=n(15),u=a(o),i=n(5),s=a(i),c=n(1),d=a(c),f=n(2),p=a(f),m=n(3),b=a(m),v=n(4),h=a(v),y=n(11),_=a(y),C=n(6),x=a(C),k=n(0),g=a(k),E=n(78),O=a(E),L=n(215),P=n(721),I=a(P),N=n(725),w=a(N),K=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var l=0,a=Object.getOwnPropertySymbols(e);l<a.length;l++)t.indexOf(a[l])<0&&(n[a[l]]=e[a[l]]);return n},S=function(e){function t(e){(0,d.default)(this,t);var n=(0,b.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onInputChange=function(e){var t=e.target.value,a=n.props.type,l=t;switch(a){case"bankCard":l=t.replace(/\D/g,"").replace(/(....)(?=.)/g,"$1 ");break;case"phone":l=t.replace(/\D/g,"").substring(0,11);var r=l.length;r>3&&r<8?l=l.substr(0,3)+" "+l.substr(3):r>=8&&(l=l.substr(0,3)+" "+l.substr(3,4)+" "+l.substr(7));break;case"number":l=t.replace(/\D/g,"")}n.handleOnChange(l,l!==t)},n.handleOnChange=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=n.props.onChange;"value"in n.props?n.setState({value:n.props.value}):n.setState({value:e}),a&&(t?setTimeout(function(){return a(e)}):a(e))},n.onInputFocus=function(e){n.debounceTimeout&&(clearTimeout(n.debounceTimeout),n.debounceTimeout=null),n.setState({focus:!0}),n.props.onFocus&&n.props.onFocus(e)},n.onInputBlur=function(e){n.inputRef&&(n.debounceTimeout=window.setTimeout(function(){document.activeElement!==(n.inputRef&&n.inputRef.inputRef)&&n.setState({focus:!1})},200)),n.props.onBlur&&n.props.onBlur(e)},n.clearInput=function(){"password"!==n.props.type&&n.props.updatePlaceholder&&n.setState({placeholder:n.props.value}),n.setState({value:""}),n.props.onChange&&n.props.onChange(""),n.focus()},n.focus=function(){n.inputRef&&n.inputRef.focus()},n.state={placeholder:e.placeholder,value:r(e.value||e.defaultValue)},n}return(0,h.default)(t,e),(0,p.default)(t,[{key:"componentWillReceiveProps",value:function(e){"placeholder"in e&&!e.updatePlaceholder&&this.setState({placeholder:e.placeholder}),"value"in e&&this.setState({value:e.value})}},{key:"componentWillUnmount",value:function(){this.debounceTimeout&&(window.clearTimeout(this.debounceTimeout),this.debounceTimeout=null)}},{key:"render",value:function(){var e,t,a=this,l=(0,s.default)({},this.props);delete l.updatePlaceholder;var o=l.prefixCls,i=l.prefixListCls,c=l.editable,d=l.style,f=l.clear,p=l.children,m=l.error,b=l.className,v=l.extra,h=l.labelNumber,y=l.type,C=l.onExtraClick,x=l.onErrorClick,k=l.moneyKeyboardAlign,E=l.moneyKeyboardWrapProps,P=l.onVirtualKeyboardConfirm,N=K(l,["prefixCls","prefixListCls","editable","style","clear","children","error","className","extra","labelNumber","type","onExtraClick","onErrorClick","moneyKeyboardAlign","moneyKeyboardWrapProps","onVirtualKeyboardConfirm"]),S=N.name,j=N.disabled,B=N.maxLength,M=this.state.value,F=(0,L.getComponentLocale)(this.props,this.context,"InputItem",function(){return n(726)}),T=F.confirmLabel,A=F.backspaceLabel,R=F.cancelKeyboardLabel,D=this.state,V=D.focus,W=D.placeholder,z=(0,_.default)(i+"-item",o+"-item",i+"-item-middle",b,(e={},(0,u.default)(e,o+"-disabled",j),(0,u.default)(e,o+"-error",m),(0,u.default)(e,o+"-focus",V),(0,u.default)(e,o+"-android",V),e)),H=(0,_.default)(o+"-label",(t={},(0,u.default)(t,o+"-label-2",2===h),(0,u.default)(t,o+"-label-3",3===h),(0,u.default)(t,o+"-label-4",4===h),(0,u.default)(t,o+"-label-5",5===h),(0,u.default)(t,o+"-label-6",6===h),(0,u.default)(t,o+"-label-7",7===h),t)),U=o+"-control",J="text";"bankCard"===y||"phone"===y?J="tel":"password"===y?J="password":"digit"===y?J="number":"text"!==y&&"number"!==y&&(J=y);var Z=void 0;"number"===y&&(Z={pattern:"[0-9]*"});var X=void 0;return"digit"===y&&(X={className:"h5numInput"}),g.default.createElement("div",{className:z},g.default.createElement("div",{className:i+"-line"},p?g.default.createElement("div",{className:H},p):null,g.default.createElement("div",{className:U},"money"===y?g.default.createElement(I.default,{value:r(M),type:y,ref:function(e){return a.inputRef=e},maxLength:B,placeholder:W,onChange:this.onInputChange,onFocus:this.onInputFocus,onBlur:this.onInputBlur,onVirtualKeyboardConfirm:P,disabled:j,editable:c,prefixCls:o,style:d,confirmLabel:T,backspaceLabel:A,cancelKeyboardLabel:R,moneyKeyboardAlign:k,moneyKeyboardWrapProps:E}):g.default.createElement(w.default,(0,s.default)({},Z,N,X,{value:r(M),defaultValue:void 0,ref:function(e){return a.inputRef=e},style:d,type:J,maxLength:B,name:S,placeholder:W,onChange:this.onInputChange,onFocus:this.onInputFocus,onBlur:this.onInputBlur,readOnly:!c,disabled:j}))),f&&c&&!j&&M&&(""+M).length>0?g.default.createElement(O.default,{activeClassName:o+"-clear-active"},g.default.createElement("div",{className:o+"-clear",onClick:this.clearInput})):null,m?g.default.createElement("div",{className:o+"-error-extra",onClick:x}):null,""!==v?g.default.createElement("div",{className:o+"-extra",onClick:C},v):null))}}]),t}(g.default.Component);S.defaultProps={prefixCls:"am-input",prefixListCls:"am-list",type:"text",editable:!0,disabled:!1,placeholder:"",clear:!1,onChange:l,onBlur:l,onFocus:l,extra:"",onExtraClick:l,error:!1,onErrorClick:l,onVirtualKeyboardConfirm:l,labelNumber:5,updatePlaceholder:!1,moneyKeyboardAlign:"right",moneyKeyboardWrapProps:{}},S.contextTypes={antLocale:x.default.object},t.default=S,e.exports=t.default},637:function(e,t,n){"use strict";n(20),n(79),n(727)},721:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var l=n(1),r=a(l),o=n(2),u=a(o),i=n(3),s=a(i),c=n(4),d=a(c),f=n(11),p=a(f),m=n(0),b=a(m),v=n(16),h=a(v),y=n(722),_=n(723),C=a(_),x=n(724),k=a(x),g=n(627),E=[],O=null,L=!!h.default.createPortal,P=function(e){function t(e){(0,r.default)(this,t);var n=(0,s.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onChange=function(e){"value"in n.props||n.setState({value:e.target.value}),n.props.onChange(e)},n.onConfirm=function(e){n.props.onVirtualKeyboardConfirm(e)},n.addBlurListener=function(){document.addEventListener("click",n.doBlur,!1)},n.removeBlurListener=function(){document.removeEventListener("click",n.doBlur,!1)},n.saveRef=function(e){L&&e&&(O=e,E.push({el:e,container:n.container}))},n.doBlur=function(e){var t=n.state.value;e.target!==n.inputRef&&n.onInputBlur(t)},n.removeCurrentExtraKeyboard=function(){E=E.filter(function(e){var t=e.el,n=e.container;return t&&n&&t!==O&&n.parentNode.removeChild(n),t===O})},n.unLinkInput=function(){O&&O.antmKeyboard&&O.linkedInput&&O.linkedInput===n&&(O.linkedInput=null,(0,y.addClass)(O.antmKeyboard,n.props.keyboardPrefixCls+"-wrapper-hide")),n.removeBlurListener(),L&&n.removeCurrentExtraKeyboard()},n.onInputBlur=function(e){n.state.focus&&(n.setState({focus:!1}),n.props.onBlur(e),setTimeout(function(){n.unLinkInput()},50))},n.onInputFocus=function(){var e=n.state.value;n.props.onFocus(e),n.setState({focus:!0},function(){O&&(O.linkedInput=n,O.antmKeyboard&&(0,y.removeClass)(O.antmKeyboard,n.props.keyboardPrefixCls+"-wrapper-hide"),O.confirmDisabled=""===e,O.confirmKeyboardItem&&(""===e?(0,y.addClass)(O.confirmKeyboardItem,n.props.keyboardPrefixCls+"-item-disabled"):(0,y.removeClass)(O.confirmKeyboardItem,n.props.keyboardPrefixCls+"-item-disabled")))})},n.onKeyboardClick=function(e){var t=n.props.maxLength,a=n.state.value,l=n.onChange,r=void 0;"delete"===e?(r=a.substring(0,a.length-1),l({target:{value:r}})):"confirm"===e?(r=a,l({target:{value:r}}),n.onInputBlur(a),n.onConfirm(a)):"hide"===e?(r=a,n.onInputBlur(r)):void 0!==t&&+t>=0&&(a+e).length>t?(r=(a+e).substr(0,t),l({target:{value:r}})):(r=a+e,l({target:{value:r}})),O&&(O.confirmDisabled=""===r,O.confirmKeyboardItem&&(""===r?(0,y.addClass)(O.confirmKeyboardItem,n.props.keyboardPrefixCls+"-item-disabled"):(0,y.removeClass)(O.confirmKeyboardItem,n.props.keyboardPrefixCls+"-item-disabled")))},n.onFakeInputClick=function(){n.focus()},n.focus=function(){n.removeBlurListener(),n.state.focus||n.onInputFocus(),setTimeout(function(){n.addBlurListener()},50)},n.state={focus:!1,value:e.value||""},n}return(0,d.default)(t,e),(0,u.default)(t,[{key:"componentWillReceiveProps",value:function(e){"value"in e&&this.setState({value:e.value})}},{key:"componentDidUpdate",value:function(){this.renderCustomKeyboard()}},{key:"componentWillUnmount",value:function(){this.state.focus&&this.props.onBlur(this.state.value),this.unLinkInput()}},{key:"getComponent",value:function(){var e=this.props,t=e.confirmLabel,n=e.backspaceLabel,a=e.cancelKeyboardLabel,l=e.keyboardPrefixCls,r=e.moneyKeyboardWrapProps;return b.default.createElement(C.default,{ref:this.saveRef,onClick:this.onKeyboardClick,prefixCls:l,confirmLabel:t,backspaceLabel:n,cancelKeyboardLabel:a,wrapProps:r})}},{key:"getContainer",value:function(){var e=this.props.keyboardPrefixCls;if(L){if(!this.container){var t=document.createElement("div");t.setAttribute("id",e+"-container-"+(new Date).getTime()),document.body.appendChild(t),this.container=t}}else{var n=document.querySelector("#"+e+"-container");n||(n=document.createElement("div"),n.setAttribute("id",e+"-container"),document.body.appendChild(n)),this.container=n}return this.container}},{key:"renderCustomKeyboard",value:function(){L||(O=h.default.unstable_renderSubtreeIntoContainer(this,this.getComponent(),this.getContainer()))}},{key:"renderPortal",value:function(){var e=this;return L&&g.canUseDOM?b.default.createElement(k.default,{getContainer:function(){return e.getContainer()}},this.getComponent()):null}},{key:"render",value:function(){var e=this,t=this.props,n=t.placeholder,a=t.disabled,l=t.editable,r=t.moneyKeyboardAlign,o=this.state,u=o.focus,i=o.value,s=a||!l,c=(0,p.default)("fake-input",{focus:u,"fake-input-disabled":a}),d=(0,p.default)("fake-input-container",{"fake-input-container-left":"left"===r});return b.default.createElement("div",{className:d},""===i&&b.default.createElement("div",{className:"fake-input-placeholder"},n),b.default.createElement("div",{role:"textbox","aria-label":i||n,className:c,ref:function(t){return e.inputRef=t},onClick:s?function(){}:this.onFakeInputClick},i),this.renderPortal())}}]),t}(b.default.Component);P.defaultProps={onChange:function(){},onFocus:function(){},onBlur:function(){},onVirtualKeyboardConfirm:function(){},placeholder:"",disabled:!1,editable:!0,prefixCls:"am-input",keyboardPrefixCls:"am-number-keyboard"},t.default=P,e.exports=t.default},722:function(e,t,n){"use strict";function a(e,t){return e.classList?e.classList.contains(t):(" "+e.className+" ").indexOf(" "+t+" ")>-1}function l(e,t){e.classList?e.classList.add(t):a(e,t)||(e.className=e.className+" "+t)}function r(e,t){if(e.classList)e.classList.remove(t);else if(a(e,t)){var n=e.className;e.className=(" "+n+" ").replace(" "+t+" ","")}}Object.defineProperty(t,"__esModule",{value:!0}),t.hasClass=a,t.addClass=l,t.removeClass=r},723:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.KeyboardItem=void 0;var l=n(5),r=a(l),o=n(1),u=a(o),i=n(2),s=a(i),c=n(3),d=a(c),f=n(4),p=a(f),m=n(11),b=a(m),v=n(0),h=a(v),y=n(78),_=a(y),C=n(627),x=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var l=0,a=Object.getOwnPropertySymbols(e);l<a.length;l++)t.indexOf(a[l])<0&&(n[a[l]]=e[a[l]]);return n},k=t.KeyboardItem=function(e){function t(){return(0,u.default)(this,t),(0,d.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,p.default)(t,e),(0,s.default)(t,[{key:"render",value:function(){var e=this.props,t=e.prefixCls,n=e.onClick,a=e.className,l=(e.disabled,e.children),o=e.tdRef,u=e.label,i=e.iconOnly,s=x(e,["prefixCls","onClick","className","disabled","children","tdRef","label","iconOnly"]),c=l;"keyboard-delete"===a?c="delete":"keyboard-hide"===a?c="hide":"keyboard-confirm"===a&&(c="confirm");var d=(0,b.default)(t+"-item",a);return h.default.createElement(_.default,{activeClassName:t+"-item-active"},h.default.createElement("td",(0,r.default)({ref:o,onClick:function(e){n(e,c)},className:d},s),l,i&&h.default.createElement("i",{className:"sr-only"},u)))}}]),t}(h.default.Component);k.defaultProps={prefixCls:"am-number-keyboard",onClick:function(){},disabled:!1};var g=function(e){function t(){(0,u.default)(this,t);var e=(0,d.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.onKeyboardClick=function(t,n){if(t.nativeEvent.stopImmediatePropagation(),"confirm"===n&&e.confirmDisabled)return null;e.linkedInput&&e.linkedInput.onKeyboardClick(n)},e.renderKeyboardItem=function(t,n){return h.default.createElement(k,{onClick:e.onKeyboardClick,key:"item-"+t+"-"+n},t)},e}return(0,p.default)(t,e),(0,s.default)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.prefixCls,a=t.confirmLabel,l=t.backspaceLabel,o=t.cancelKeyboardLabel,u=t.wrapProps,i=(0,b.default)(n+"-wrapper",n+"-wrapper-hide");return h.default.createElement("div",(0,r.default)({className:i,ref:function(t){return e.antmKeyboard=t}},u),h.default.createElement("table",null,h.default.createElement("tbody",null,h.default.createElement("tr",null,["1","2","3"].map(function(t,n){return e.renderKeyboardItem(t,n)}),h.default.createElement(k,(0,r.default)({className:"keyboard-delete",rowSpan:2,onClick:this.onKeyboardClick},this.getAriaAttr(l)))),h.default.createElement("tr",null,["4","5","6"].map(function(t,n){return e.renderKeyboardItem(t,n)})),h.default.createElement("tr",null,["7","8","9"].map(function(t,n){return e.renderKeyboardItem(t,n)}),h.default.createElement(k,{className:"keyboard-confirm",rowSpan:2,onClick:this.onKeyboardClick,tdRef:function(t){return e.confirmKeyboardItem=t}},a)),h.default.createElement("tr",null,[".","0"].map(function(t,n){return e.renderKeyboardItem(t,n)}),h.default.createElement(k,(0,r.default)({className:"keyboard-hide",onClick:this.onKeyboardClick},this.getAriaAttr(o)))))))}},{key:"getAriaAttr",value:function(e){return C.IS_IOS?{label:e,iconOnly:!0}:{role:"button","aria-label":e}}}]),t}(h.default.Component);g.defaultProps={prefixCls:"am-number-keyboard"},t.default=g},724:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var l=n(1),r=a(l),o=n(2),u=a(o),i=n(3),s=a(i),c=n(4),d=a(c),f=n(0),p=a(f),m=n(16),b=a(m),v=b.default.createPortal,h=function(e){function t(e){(0,r.default)(this,t);var n=(0,s.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.container=n.props.getContainer(),n}return(0,d.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){return this.props.children?v(this.props.children,this.container):null}}]),t}(p.default.Component);t.default=h,e.exports=t.default},725:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var l=n(5),r=a(l),o=n(1),u=a(o),i=n(2),s=a(i),c=n(3),d=a(c),f=n(4),p=a(f),m=n(0),b=a(m),v=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var l=0,a=Object.getOwnPropertySymbols(e);l<a.length;l++)t.indexOf(a[l])<0&&(n[a[l]]=e[a[l]]);return n},h=function(e){function t(){(0,u.default)(this,t);var e=(0,d.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.onInputBlur=function(t){var n=t.target.value;e.props.onBlur&&e.props.onBlur(n)},e.onInputFocus=function(t){var n=t.target.value;e.props.onFocus&&e.props.onFocus(n)},e.focus=function(){e.inputRef&&e.inputRef.focus()},e}return(0,p.default)(t,e),(0,s.default)(t,[{key:"render",value:function(){var e=this,t=this.props,n=(t.onBlur,t.onFocus,v(t,["onBlur","onFocus"]));return b.default.createElement("input",(0,r.default)({ref:function(t){return e.inputRef=t},onBlur:this.onInputBlur,onFocus:this.onInputFocus},n))}}]),t}(b.default.Component);t.default=h,e.exports=t.default},726:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={confirmLabel:"\u786e\u5b9a",backspaceLabel:"\u9000\u683c",cancelKeyboardLabel:"\u6536\u8d77\u952e\u76d8"},e.exports=t.default},727:function(e,t){},751:function(e,t){e.exports={"snk-1px":"snk-1px___ULSsN","snk-1px-t":"snk-1px-t___7Mzvm","snk-1px-b":"snk-1px-b___uwXXx","snk-1px-tb":"snk-1px-tb___3Xl-s","snk-1px-l":"snk-1px-l___30vZC","snk-1px-r":"snk-1px-r___ZhAhF","snk-1px-lb":"snk-1px-lb___131hi",flex:"flex___g-3og","flex-between":"flex-between___2J1H5","flex-center":"flex-center___3rXNm",costListApplicationPage:"costListApplicationPage___1dnQw",listContainer:"listContainer___2vZMv",listheader:"listheader___I4cBP",totalMoneyContainer:"totalMoneyContainer___eyLjz",moneyvalue:"moneyvalue___42pAx",listReason:"listReason___31B38",fontNum:"fontNum___YvMXd"}},758:function(e,t){e.exports={"snk-1px":"snk-1px___wTa3F","snk-1px-t":"snk-1px-t___1hctF","snk-1px-b":"snk-1px-b___Ufo3H","snk-1px-tb":"snk-1px-tb___3AQtE","snk-1px-l":"snk-1px-l___5Y6zs","snk-1px-r":"snk-1px-r___2L3ga","snk-1px-lb":"snk-1px-lb___3fl3E",flex:"flex___3ywI7","flex-between":"flex-between___1hdgO","flex-center":"flex-center___WyuuA",costListItem:"costListItem___1qdNl",labelContainer:"labelContainer___2v7D5",labelNum:"labelNum___1V1eF",labelName:"labelName___JDZTy",itextContainer:"itextContainer___297xL"}},779:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var l=n(5),r=a(l),o=n(620),u=a(o),i=n(636),s=a(i),c=n(10),d=a(c),f=n(1),p=a(f),m=n(2),b=a(m),v=n(3),h=a(v),y=n(4),_=a(y);n(621),n(637);var C=n(0),x=a(C),k=n(758),g=a(k),E=function(e){function t(e){(0,p.default)(this,t);var n=(0,h.default)(this,(t.__proto__||(0,d.default)(t)).call(this,e));O.call(n);var a=e.costlistdata,l=void 0===a?{}:a,r=l.dmbtr,o=void 0===r?"":r,u=l.itext,i=void 0===u?"":u;return n.state={dmbtr:o,itext:i},n}return(0,_.default)(t,e),(0,b.default)(t,[{key:"render",value:function(){var e=this.props,t=e.costlistdata,n=void 0===t?{}:t,a=e.orderIndex,l=n.expidDesc;return x.default.createElement("div",{className:g.default.costListItem},x.default.createElement(s.default,{type:"digit",placeholder:"\u8f93\u5165\u91d1\u989d",value:this.state.dmbtr,onChange:this.onDmbtrChange,onBlur:this.onFormBlur,clear:!0,extra:"\u5143",style:{textAlign:"right"}},x.default.createElement("div",{className:g.default.labelContainer},x.default.createElement("div",{className:g.default.labelNum},+a+1),x.default.createElement("div",{className:g.default.labelName},l))),this.state.dmbtr&&x.default.createElement("div",{className:g.default.itextContainer},x.default.createElement(u.default,{value:this.state.itext,onChange:this.onItextChange,onBlur:this.onFormBlur,placeholder:"\u8bf7\u8865\u5145\u6587\u5b57\u8bf4\u660e",maxLength:"100",autoHeight:!0,clear:!0,style:{color:"#888"}})))}}]),t}(x.default.Component),O=function(){var e=this;this.onDmbtrChange=function(t){if(!t)return void e.setState({dmbtr:"0"},function(){e.setState({dmbtr:"",itext:""})});var n=/^-?0*(?=\d)(\d*\.?\d{0,2})\w*/,a=t.replace(n,"$1");e.setState({dmbtr:a})},this.onItextChange=function(t){e.setState({itext:t})},this.onFormBlur=function(){var t=e.props,n=t.costlistdata,a=void 0===n?{}:n,l=t.onCostItemChange,o=t.orderIndex,u=e.state,i=u.dmbtr,s=u.itext;if("0"===i)return void e.setState({dmbtr:"",itext:""},function(){var e=(0,r.default)({},a,{dmbtr:"",itext:""});l&&l(e,o)});var c=(0,r.default)({},a,{dmbtr:i,itext:s});l&&l(c,o)}};t.default=E,e.exports=t.default}});